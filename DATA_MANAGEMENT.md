# Data Management Guide

## ðŸ“¦ What Data Is Included in This Repository

### âœ… **Included (Committed to Git)** - ~1.4 MB total

Small JSON files that demonstrate the pipeline output:

```
edgar_results/           ~880 KB  - SEC filing metadata (4 companies)
trail_results/           ~336 KB  - Raw trial data (5 trials)  
formatted_trials/        ~172 KB  - Structured output (5 trials)
parsed_chunks_json/       ~60 KB  - Parsed filing chunks
matched_pmc_publications   4 KB   - Publication matches
```

**Why included?**
- Small file sizes (< 2 MB total)
- Useful for demos and testing
- Shows pipeline output format
- Helps users understand data structure

### âŒ **Excluded (Not Committed)** - ~191 MB

Large binary and parsed files (regeneratable):

```
forms/                   ~76 MB   - SEC filing PDFs
parsed_chunks/          ~115 MB   - Parsed filing content (HTML, CSV)
.env                              - Your API keys (NEVER commit!)
```

**Why excluded?**
- Large file sizes (slow git operations)
- Can be regenerated by running pipeline
- Contains binary PDFs (not version-control friendly)
- Reduces repository bloat

---

## ðŸ”„ How to Regenerate Excluded Data

If you clone this repo and want the full data:

```bash
# 1. Setup environment
cp .env.example .env
# Add your API keys to .env

# 2. Run the pipeline
jupyter notebook
# Open pipeline.ipynb and run all cells

# 3. Data will be generated in:
#    - forms/ (PDFs)
#    - parsed_chunks/ (parsed content)
```

---

## ðŸŽ¯ Data Management Options

### **Current Setup: Hybrid Approach** âœ… Recommended

**What's kept:**
- âœ… JSON metadata files (1.4 MB)
- âœ… Example outputs for demos
- âœ… Documentation files

**What's excluded:**
- âŒ Large PDF files (76 MB)
- âŒ Parsed chunks (115 MB)
- âŒ Environment variables (.env)

**Best for:**
- Portfolio/demo projects
- Showing output without huge repo
- Quick understanding of data format

---

### **Alternative Option 1: Keep Everything**

To keep ALL data (including PDFs):

1. Edit `.gitignore` and comment out these lines:
   ```gitignore
   # forms/**/*.pdf
   # parsed_chunks/**/*.json
   ```

2. Commit all data:
   ```bash
   git add forms/ parsed_chunks/
   git commit -m "Add complete data files"
   ```

**Pros:** Complete dataset available  
**Cons:** ~192 MB repository size

---

### **Alternative Option 2: Exclude All Data**

To exclude ALL data (including JSON):

1. Edit `.gitignore` and add:
   ```gitignore
   edgar_results/*.json
   trail_results/**/*.json
   formatted_trials/**/*.json
   parsed_chunks_json/**/*.json
   matched_pmc_publications.json
   ```

2. Remove tracked data:
   ```bash
   git rm -r --cached edgar_results/*.json trail_results formatted_trials
   git commit -m "Remove data files"
   ```

**Pros:** Minimal repo size  
**Cons:** No example outputs

---

## ðŸ“Š Data Size Reference

| Directory | Size | Files | Include? |
|-----------|------|-------|----------|
| edgar_results/ | 880 KB | 4 JSON | âœ… Yes |
| trail_results/ | 336 KB | ~10 JSON | âœ… Yes |
| formatted_trials/ | 172 KB | 5 JSON | âœ… Yes |
| parsed_chunks_json/ | 60 KB | Few JSON | âœ… Yes |
| matched_pmc_publications.json | 4 KB | 1 JSON | âœ… Yes |
| **forms/** | **76 MB** | **PDFs** | âŒ **No** |
| **parsed_chunks/** | **115 MB** | **HTML/CSV** | âŒ **No** |

**Total Included:** ~1.4 MB  
**Total Excluded:** ~191 MB  
**Savings:** ~99% smaller repository

---

## ðŸ” Security Reminder

**NEVER commit these files:**
- `.env` - Contains API keys
- Any file with passwords or tokens
- Database dumps with sensitive data

These are already in `.gitignore` for protection.

---

## ðŸ’¡ Best Practices

1. **Keep example data small** - 1-2 trials max
2. **Exclude regeneratable files** - PDFs, parsed content
3. **Document data sources** - Clear README instructions
4. **Use .gitignore wisely** - Prevent accidental commits
5. **Consider data licensing** - SEC/trial data usage terms

---

## ðŸš€ Quick Commands

```bash
# Check what will be committed
git status

# Check data sizes
du -sh edgar_results trail_results formatted_trials forms parsed_chunks

# See what's ignored
git status --ignored

# Preview commit size
git count-objects -vH
```

---

**Current configuration keeps useful examples while maintaining a lean repository!** âœ…
